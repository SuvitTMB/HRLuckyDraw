<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>อั่งเปา โชค 2 ชั้น จาก ทีทีบี 2026 (Copy)</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Font (Sarabun) -->
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --ttb-blue: #002d63;
            --ttb-orange: #f04e23;
            --angpao-red: #d32f2f;
            --angpao-light: #ef5350;
            --brand-blue: #0056ff;
            --status-orange: #f68b1f;
        }

        body { 
            font-family: 'Sarabun', sans-serif; 
            touch-action: manipulation;
            overscroll-behavior-y: none;
            -webkit-tap-highlight-color: transparent;
            color: #1e293b;
            background-color: var(--angpao-red);
            background-image: radial-gradient(var(--angpao-light) 15%, transparent 16%), radial-gradient(var(--angpao-light) 15%, transparent 16%);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }
        
        .app-container {
            width: 100%;
            max-width: 480px; 
            height: 100dvh;
            position: relative;
            background-color: transparent;
            box-shadow: 0 0 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .fade-in { animation: fadeIn 0.4s ease-out forwards; }
        .slide-up { animation: slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .pop-in { animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        .shake-hard { animation: shakeHard 0.5s infinite; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes popIn { from { transform: scale(0.85); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        
        @keyframes shakeHard {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-2px, 0px) rotate(1deg); }
            30% { transform: translate(2px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 1px) rotate(1deg); }
            60% { transform: translate(-2px, 1px) rotate(0deg); }
            70% { transform: translate(2px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 1px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }

        .glass {
            background: rgba(255, 255, 255, 0.12);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .btn-brand-blue {
            background-color: var(--brand-blue);
            box-shadow: 0 4px 14px rgba(0, 86, 255, 0.3);
        }

        .card-luck {
            @apply bg-white rounded-[28px] p-6 border border-slate-100 transition-all duration-300 relative overflow-hidden;
            box-shadow: 0 8px 20px -5px rgba(0, 0, 0, 0.04);
            padding: 10px;
            border-radius: 15px;
            background-color: #e4e4e4;
        }
        
        .card-luck-played {
            @apply border-orange-200 shadow-none;
            background-color: #f7dfdf !important;
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        .bg-angpao-pattern {
            background-color: var(--angpao-red);
            background-image: radial-gradient(var(--angpao-light) 15%, transparent 16%), radial-gradient(var(--angpao-light) 15%, transparent 16%);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
        }
        .pt-12 { padding-top: 1.5rem !important; }
        .h-48 { height: 8rem !important; }
        .pb-20 { padding-bottom: 1.4rem !important; }
    </style>
</head>
<body class="select-none">

    <div class="app-container">

        <!-- VIEW 1: WELCOME SCREEN -->
        <div id="view-welcome" class="absolute inset-0 flex flex-col items-center z-10 transition-all duration-500">
            <div class="absolute inset-0 z-0 overflow-hidden pointer-events-none">
                <div class="absolute top-[-5%] left-[-5%] w-[50%] h-[25%] bg-yellow-400 rounded-full opacity-20 blur-[80px]"></div>
                <div class="absolute bottom-[-5%] right-[-5%] w-[50%] h-[25%] bg-orange-500 rounded-full opacity-20 blur-[80px]"></div>
            </div>

            <div class="relative z-10 flex-1 flex flex-col items-center justify-center text-center px-8 w-full">
                <div style="margin-top:15px;" class="shake-hard">
                    <center><img src="./images/y2026.png" style="width:70%; height: auto;" onerror="this.style.display='none'"></center>
                </div>               
                <h1 class="text-2xl font-extrabold text-white mb-2 tracking-tight drop-shadow-md animate-pulse" style="margin-top:15px;">อั่งเปา ลุ้นโชค 2 ชั้น</h1>
                <p class="text-lm text-red-100 font-medium mb-10 opacity-90 drop-shadow-sm">จาก ทีทีบี (ttb)</p>
                
                <div class="glass rounded-[32px] p-4 w-full max-w-xs mx-auto mb-4">
                    <p class="text-white text-base leading-relaxed font-light">
                        เฉลิมฉลองปีใหม่จีน<br>
                        <span class="font-bold text-lg text-yellow-300">ลุ้นรับโชค 2 ชั้น กับ ทีทีบี</span><br>
                        สุดพิเศษเฉพาะคุณเท่านั้น
                    </p>
                </div>
            </div>

            <div class="relative z-10 w-full px-8 pb-12 space-y-4">
                <button onclick="app.goToCeoMessage()" class="w-full text-white text-lg font-bold py-4 rounded-[24px] transform transition active:scale-95 flex items-center justify-center gap-2" style="background-color: #f68b1f;">
                    <i data-lucide="message-square" class="w-5 h-5"></i>
                    <div>สาส์นจาก CEO</div>
                </button>

                <button onclick="app.goToRegister()" class="w-full text-white text-lg font-bold py-4 rounded-[24px] transform transition active:scale-95 flex items-center justify-center gap-2" style="background-color: #f68b1f;">
                    <span>ลงทะเบียนรับโชค</span>
                    <i data-lucide="arrow-right" class="w-5 h-5"></i>
                </button>
                
                <p class="text-center text-white/70 text-xs mt-4 font-light tracking-[0.1em]">ธนาคารทหารไทยธนชาต จำกัด (มหาชน)</p>
            </div>
        </div>

        <!-- VIEW: CEO MESSAGE -->
        <div id="view-ceo" class="hidden absolute inset-0 flex flex-col z-20 bg-white fade-in">
            <div class="bg-angpao-pattern h-48 relative shrink-0 flex items-end justify-center pb-12">
                <button onclick="app.backFromCeo()" class="absolute top-10 left-6 p-3 text-white bg-black/15 rounded-2xl backdrop-blur-md active:scale-90 transition">
                    <i data-lucide="chevron-left" class="w-6 h-6"></i>
                </button>
                <div class="absolute -bottom-12">
                    <div class="w-28 h-28 bg-white rounded-full p-1 shadow-2xl border-[4px] border-white overflow-hidden">
                        <img src="./images/CEO.png" alt="CEO" class="w-full object-cover" onerror="this.src='https://ui-avatars.com/api/?name=CEO&background=002d63&color=fff'">
                    </div>
                </div>
            </div>
            <div class="flex-1 overflow-y-auto pt-16 px-8 pb-8 text-center no-scrollbar">
                <h2 class="text-xl font-black text-slate-800 mb-1">ปิติ ตัณฑเกษม</h2>
                <p class="text-xs text-ttb-orange tracking-widest mb-6">Chief Executive Officer<br>ธนาคารทหารไทยธนชาต จำกัด (มหาชน)</p>
                <div class="bg-slate-50 p-7 rounded-[32px] border border-slate-100 text-left space-y-5">
                    <p class="text-slate-600 leading-relaxed text-lm font-medium">สวัสดีครับ เพื่อนพนักงานสัญญาจ้างภายนอก</p>
                    <p class="text-slate-500 leading-relaxed text-ls indent-8">ตลอดปีที่ผ่านมา การเดินทางของทีทีบีไม่อาจเกิดขึ้นได้อย่างสมบูรณ์ หากขาดแรงสนับสนุนจากพนักงานสัญญาจ้างภายนอกทุกคน ที่ร่วมกันทำงานอย่างตั้งใจ รับผิดชอบ และทุ่มเทในบทบาทของตนเองอย่างเต็มความสามารถ</p>
                    <p class="text-slate-500 leading-relaxed text-ls indent-8">เพื่อแสดงความชื่นชมและขอบคุณที่ทุกคนมีส่วนช่วยขับเคลื่อนทีทีบีตลอดปีที่ผ่านมา ธนาคารจึงได้จัดกิจกรรมพิเศษ “<b>อั่งเปาโชคสองชั้น</b>” ขึ้น เพื่อมอบความสุขเล็ก ๆ ผ่านโอกาสในการลุ้นโชค รับของรางวัลในเทศกาลตรุษจีนปีนี้ ที่มีทั้งเงินสดและทองคำ</p>
                    <p class="text-slate-500 leading-relaxed text-ls indent-8">ผมหวังเป็นอย่างยิ่งว่า กิจกรรมนี้จะช่วยเติมรอยยิ้มและเป็นกำลังใจให้ทุกคนมีพลัง และขอเป็นตัวแทนทีทีบีขอบคุณทุกคนอีกครั้งสำหรับความร่วมมือและเป็นส่วนหนึ่งที่ช่วยให้ทีทีบีสร้างการเปลี่ยนแปลงที่มีความหมาย ขออวยพรให้ทุกคนประสบความสำเร็จในสิ่งที่ตั้งใจ มีสุขภาพทางกาย ใจ และการเงินที่ดีนะครับ</p>
                    <p class="text-slate-500 leading-relaxed text-ls indent-8">ขอบคุณครับ</p>
                </div>
            </div>
            <div class="p-8">
                <button onclick="app.backFromCeo()" class="w-full bg-slate-200 text-slate-500 text-lg font-bold py-4 rounded-[24px] active:scale-95 transition">กลับหน้าหลัก</button>
            </div>
        </div>

        <!-- VIEW 2: REGISTER -->
        <div id="view-register" class="hidden absolute inset-0 flex flex-col z-20 fade-in">
            <div class="px-8 pt-12 pb-6 flex items-center relative z-10">
                <button onclick="app.goBack()" class="p-3 text-white bg-white/10 rounded-2xl backdrop-blur-md active:scale-90 transition">
                    <i data-lucide="chevron-left" class="w-6 h-6"></i>
                </button>
                <h2 class="text-xl font-black text-white ml-4 drop-shadow-sm">ระบุตัวตน</h2>
            </div>
            <div class="flex-1 bg-white rounded-t-[48px] px-8 pt-12 shadow-2xl flex flex-col w-full slide-up overflow-y-auto no-scrollbar">
                <div class="mb-10 text-center">
                    <div class="w-16 h-1.5 bg-slate-100 rounded-full mx-auto mb-8"></div>
                    <h3 class="text-xl font-black text-slate-800">ยืนยันสิทธิ์พนักงาน</h3>
                    <p class="text-sm text-slate-400 mt-2 font-medium">ตรวจสอบข้อมูลสมาชิก</p>
                </div>
                
                <div class="space-y-6">
                    <div class="relative group">
                        <label class="block text-xs text-slate-400 tracking-widest mb-2 ml-2">กรุณาระบุเลขบัตรประชาชน</label>
                        <input type="tel" id="citizen-id" maxlength="17" placeholder="0-0000-00000-00-0" 
                            class="w-full bg-slate-100 border-2 border-slate-100 rounded-[24px] px-6 py-4 text-xm tracking-[0.12em] text-center text-slate-800 outline-none focus:border-blue-500 focus:bg-white transition-all font-black placeholder:text-slate-200 placeholder:tracking-normal" 
                            oninput="app.validateInput(this)">
                        <div id="validation-icon" class="absolute right-6 bottom-5 text-slate-200 transition-colors">
                            <i data-lucide="shield" class="w-7 h-7"></i>
                        </div>
                    </div>

                    <div class="bg-blue-50 border border-blue-100 rounded-[24px] p-5 flex items-start gap-4">
                        <i data-lucide="info" class="w-5 h-5 text-blue-500 shrink-0 mt-1"></i>
                        <p class="text-xs text-blue-700 leading-relaxed font-semibold">
                            กรุณาระบุเลขบัตรประชาชน 13 หลักของตนเองเพื่อรับสิทธิ์อั่งเปา <font color="#ff0000">ห้ามนำรหัสบัตรประชาชนของท่านอื่นมากรอกโดยเด็ดขาด</font>
                        </p>
                    </div>
                    
                    <button id="btn-check" onclick="app.verifyUser()" disabled 
                        class="w-full bg-slate-400 text-white/70 text-lg font-bold py-4 rounded-[24px] cursor-not-allowed flex justify-center items-center gap-2 transition-all duration-300">
                        <span>ตรวจสอบข้อมูล</span>
                        <i data-lucide="shield-check" class="w-5 h-5"></i>
                    </button>
                </div>

                <p id="error-msg" class="text-red-500 text-sm mt-4 text-center font-bold opacity-0 transition-opacity">กรุณากรอกตัวเลขให้ครบ 13 หลัก</p>
                
                <div class="mt-auto pb-12 text-center opacity-30">
                    <p class="text-[12px] tracking-[0.1em] text-slate-600">ธนาคารทหารไทยธนชาต จำกัด (มหาชน)</p>
                </div>
            </div>
            
            <!-- Loading Overlay -->
            <div id="loading-overlay" class="hidden absolute inset-0 bg-white/90 backdrop-blur-md z-50 flex items-center justify-center flex-col">
                <div class="relative">
                    <div class="w-16 h-16 border-[5px] border-slate-100 rounded-full"></div>
                    <div class="absolute top-0 w-16 h-16 border-[5px] border-blue-600 border-t-transparent rounded-full animate-spin"></div>
                </div>
                <p class="mt-8 text-lg font-black text-slate-800 animate-pulse">กำลังตรวจสอบสิทธิ์...</p>
            </div>
        </div>

        <!-- VIEW 2.5: AGREEMENT (REDESIGNED TO MATCH CEO FORMAT) -->
        <div id="view-agreement" class="hidden absolute inset-0 flex flex-col z-20 bg-white fade-in">
            <div class="bg-angpao-pattern h-48 relative shrink-0 flex items-end justify-center pb-12">
                <button onclick="app.declineAgreement()" class="absolute top-10 left-6 p-3 text-white bg-black/15 rounded-2xl backdrop-blur-md active:scale-90 transition">
                    <i data-lucide="chevron-left" class="w-6 h-6"></i>
                </button>
                <div class="absolute -bottom-12">
                    <div class="w-28 h-28 bg-white rounded-full p-1 shadow-2xl border-[4px] border-white flex items-center justify-center overflow-hidden">
                        <i data-lucide="file-signature" class="w-12 h-12 text-slate-700"></i>
                    </div>
                </div>
            </div>
            <div class="flex-1 overflow-y-auto pt-16 px-8 pb-4 text-center no-scrollbar">
                <h2 class="text-xl font-black text-slate-800 mb-1">ข้อตกลงในการใช้งาน</h2>
                <p class="text-xs text-ttb-orange tracking-widest mb-6 uppercase">Terms and Conditions</p>
                
                <div class="bg-slate-50 p-7 rounded-[32px] border border-slate-100 text-left space-y-5">
                    <p class="text-slate-600 leading-relaxed text-ls">1. รายละเอียดข้อตกลงและเงื่อนไขการรับสิทธิ์อั่งเปา</p>
                    <p class="text-slate-600 leading-relaxed text-ls">2. การรักษาความปลอดภัยของข้อมูลส่วนบุคคลและข้อมูลพนักงาน</p>
                    <p class="text-slate-800 leading-relaxed text-ls font-bold">3. การตัดสินของคณะกรรมการถือเป็นที่สิ้นสุด</p>
                </div>
            </div>
            <div class="p-8 pt-4 flex gap-3">
                <button onclick="app.declineAgreement()" class="flex-1 bg-red-500 text-white text-[14px] font-bold py-3 rounded-[24px] active:scale-95 transition shadow-lg shadow-red-100">ไม่ยอมรับ</button>
                <button onclick="app.acceptAgreement()" class="flex-1 bg-green-500 text-white text-[14px] font-bold py-3 rounded-[24px] active:scale-95 transition shadow-lg shadow-green-100">ยอมรับเงื่อนไข</button>
            </div>
        </div>

        <!-- VIEW 3: DASHBOARD -->
        <div id="view-dashboard" class="hidden absolute inset-0 flex flex-col z-30 fade-in">
            <div class="px-8 pt-12 pb-6 flex items-center justify-between relative z-10">
                <div>
                    <h2 class="text-xl font-black text-white drop-shadow-sm">ซองอั่งเปา 2026</h2>
                    <p class="text-red-100/70 text-xs tracking-widest">ลุ้นรับโชค 2 ชั้น จาก ทีทีบี</p>
                </div>
                <button onclick="app.goBack()" class="p-3 bg-white/15 rounded-2xl text-white backdrop-blur-md active:scale-90 transition">
                    <i data-lucide="log-out" class="w-6 h-6"></i>
                </button>
            </div>

            <div class="flex-1 bg-slate-100 rounded-t-[48px] px-6 pt-10 shadow-2xl overflow-y-auto no-scrollbar slide-up">
                <div class="mb-10 px-2 flex items-center gap-5">
                    <div class="w-16 h-16 bg-gradient-to-tr from-blue-900 to-blue-700 rounded-[24px] flex items-center justify-center shadow-xl border-2 border-white">
                        <i data-lucide="user" class="w-8 h-8 text-white"></i>
                    </div>
                    <div>
                        <p class="text-slate-400 text-xs tracking-wider">สวัสดีครับ</p>
                        <h3 class="text-xl font-black text-slate-800 leading-tight" id="user-display-name">-</h3>
                    </div>
                </div>

                <div class="space-y-6 pb-20">
                    <div id="luck-1-container" class="card-luck">
                        <div class="flex justify-between items-center mb-6">
                            <div class="flex items-center gap-3">
                                <div class="w-10 h-10 bg-red-600 rounded-2xl flex items-center justify-center text-white font-black text-base shadow-lg shadow-red-200">1</div>
                                <div>
                                    <h4 class="font-black text-slate-500 text-xm">ลุ้นโชคชั้นที่ 1</h4>
                                </div>
                            </div>
                            <div id="luck-1-badge"></div>
                        </div>
                        <div id="luck-1-content"></div>
                    </div>

                    <div id="luck-2-container" class="card-luck" style="margin-top:30px;">
                        <div class="flex justify-between items-center mb-6">
                            <div class="flex items-center gap-3">
                                <div class="w-10 h-10 bg-blue-900 rounded-2xl flex items-center justify-center text-white font-black text-base shadow-lg shadow-blue-200">2</div>
                                <div>
                                    <h4 class="font-black text-slate-500 text-xm">ลุ้นโชคชั้นที่ 2</h4>
                                </div>
                            </div>
                            <div id="luck-2-badge"></div>
                        </div>
                        <div id="luck-2-content"></div>
                    </div>
                </div>
                <div class="p-8">
                    <button onclick="app.goBack()" class="w-full bg-slate-200 text-slate-500 text-lg font-bold py-4 rounded-[24px] active:scale-95 transition">กลับหน้าหลัก</button>
                </div>
            </div>
        </div>

        <!-- VIEW 4: RANDOMIZER MODAL -->
        <div id="view-random-modal" class="hidden absolute inset-0 z-50 flex items-center justify-center p-6 bg-black/85 backdrop-blur-lg opacity-0 transition-opacity duration-300">
            <div class="bg-white w-full max-w-sm rounded-[44px] shadow-2xl overflow-hidden transform scale-90 transition-transform duration-500 border-[8px] border-yellow-400" id="modal-card">
                
                <div id="modal-anim" class="py-20 text-center">
                    <div class="relative inline-block">
                        <div class="absolute inset-0 bg-red-500 rounded-full blur-3xl opacity-20 animate-pulse"></div>
                        <div class="shake-hard">
                            <center><img src="./images/y2026@.png" style="width: 80%; height: auto;" onerror="this.style.display='none'"></center>
                        </div>
                    </div>
                    <h3 class="text-xl font-black text-slate-500 mt-10 animate-pulse tracking-tight" id="anim-status">กำลังลุ้นโชค</h3>
                    <p class="text-sm text-slate-400 mt-2 font-semibold tracking-wide">ความเฮงกำลังเดินทางมาหาคุณ</p>
                </div>

                <div id="modal-result" class="hidden pt-12 pb-10 px-10 text-center">
                    <div id="modal-icon-container" class="w-24 h-24 rounded-[32px] flex items-center justify-center mx-auto mb-8 shadow-xl">
                        <div style="margin-top:15px;" class="shake-hard">
                            <center><img src="./images/y2026@@.png" style="width:70%; height: auto;" onerror="this.style.display='none'"></center>
                        </div>               
                    </div>
                    <h3 id="modal-title" class="text-2xl font-black mb-2">ยินดีด้วย!</h3>
                    <p class="text-xs text-slate-400 tracking-widest mb-6" id="modal-desc"></p>
                    
                    <div class="bg-slate-100 rounded-[32px] py-8 mb-10 border border-slate-100">
                        <p class="text-xs text-slate-400 tracking-widest mb-2">ผลการสุ่มของคุณ</p>
                        <span class="text-3xl font-black text-red-600 tracking-tighter" id="modal-reward">-</span>
                    </div>

                    <button id="modal-close-btn" onclick="app.closeModal()" class="w-full bg-slate-500 text-white font-black py-3 rounded-[20px] flex items-center justify-center gap-2 active:scale-95 transition text-xm shadow-xl">
                        รับทราบ
                    </button>
                </div>
            </div>
        </div>

    </div>

    <script type="module">
const _0x50ee68=_0x4ad2;(function(_0x32986e,_0x5bc0ee){const _0x2c7e9f=_0x4ad2,_0xe9c9a=_0x32986e();while(!![]){try{const _0xfe2db6=-parseInt(_0x2c7e9f(0x14b))/0x1*(parseInt(_0x2c7e9f(0x161))/0x2)+-parseInt(_0x2c7e9f(0x14a))/0x3*(-parseInt(_0x2c7e9f(0x194))/0x4)+parseInt(_0x2c7e9f(0x196))/0x5+parseInt(_0x2c7e9f(0x18a))/0x6+-parseInt(_0x2c7e9f(0x187))/0x7+parseInt(_0x2c7e9f(0x1b2))/0x8+-parseInt(_0x2c7e9f(0x138))/0x9*(parseInt(_0x2c7e9f(0x169))/0xa);if(_0xfe2db6===_0x5bc0ee)break;else _0xe9c9a['push'](_0xe9c9a['shift']());}catch(_0x2ae603){_0xe9c9a['push'](_0xe9c9a['shift']());}}}(_0x52e3,0x98100));function _0x4ad2(_0x13c0e4,_0x1db244){_0x13c0e4=_0x13c0e4-0x123;const _0x52e3f2=_0x52e3();let _0x4ad2f1=_0x52e3f2[_0x13c0e4];return _0x4ad2f1;}import{initializeApp}from'https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js';import{getAuth,signInAnonymously,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js';import{getFirestore,collection,query,where,getDocs,updateDoc,doc,serverTimestamp,getDoc,addDoc}from'https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js';const isSandboxEnv=typeof __firebase_config!==_0x50ee68(0x148),firebaseConfig=isSandboxEnv?JSON[_0x50ee68(0x181)](__firebase_config):{'apiKey':_0x50ee68(0x167),'authDomain':'ttb-register.firebaseapp.com','projectId':_0x50ee68(0x1a3),'storageBucket':_0x50ee68(0x15d),'messagingSenderId':_0x50ee68(0x19b),'appId':_0x50ee68(0x153)},appId=typeof __app_id!==_0x50ee68(0x148)?__app_id:_0x50ee68(0x152),OUTSOURCES_PATH=isSandboxEnv?_0x50ee68(0x162)+appId+_0x50ee68(0x18f):_0x50ee68(0x144),CARDS_PATH=isSandboxEnv?_0x50ee68(0x162)+appId+_0x50ee68(0x188):_0x50ee68(0x166),LOGS_PATH=isSandboxEnv?'artifacts/'+appId+_0x50ee68(0x1b7):'Outsources_log',fbApp=initializeApp(firebaseConfig),auth=getAuth(fbApp),db=getFirestore(fbApp);async function sha256(_0xd5082f){const _0x49ee6e=_0x50ee68,_0x3c0601=new TextEncoder()[_0x49ee6e(0x172)](_0xd5082f),_0x11da87=await crypto['subtle'][_0x49ee6e(0x176)](_0x49ee6e(0x17c),_0x3c0601);return Array[_0x49ee6e(0x17b)](new Uint8Array(_0x11da87))[_0x49ee6e(0x18d)](_0x5df166=>_0x5df166[_0x49ee6e(0x179)](0x10)[_0x49ee6e(0x12c)](0x2,'0'))[_0x49ee6e(0x191)]('');}let currentUserDoc=null,activeLuckType=0x1;const app={'deviceId':null,'init':async()=>{const _0x205ff1=_0x50ee68;try{const _0x36e6c5=navigator['userAgent']+screen[_0x205ff1(0x19a)]+screen[_0x205ff1(0x131)]+navigator[_0x205ff1(0x140)];app[_0x205ff1(0x13f)]=await sha256(_0x36e6c5),isSandboxEnv&&typeof __initial_auth_token!==_0x205ff1(0x148)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x441951){console[_0x205ff1(0x155)](_0x441951);}if(window[_0x205ff1(0x1ac)])lucide[_0x205ff1(0x141)]();},'goToRegister':()=>{const _0x21c2d8=_0x50ee68;document[_0x21c2d8(0x1af)](_0x21c2d8(0x180))['classList'][_0x21c2d8(0x198)]('hidden'),document[_0x21c2d8(0x1af)](_0x21c2d8(0x18c))[_0x21c2d8(0x1b1)]['remove'](_0x21c2d8(0x16c)),document['getElementById'](_0x21c2d8(0x17a))[_0x21c2d8(0x17d)]();},'goToCeoMessage':()=>{const _0x373f68=_0x50ee68;document[_0x373f68(0x1af)]('view-welcome')[_0x373f68(0x1b1)][_0x373f68(0x198)](_0x373f68(0x16c)),document['getElementById']('view-ceo')[_0x373f68(0x1b1)][_0x373f68(0x1bc)](_0x373f68(0x16c));},'backFromCeo':()=>{const _0x53673e=_0x50ee68;document[_0x53673e(0x1af)](_0x53673e(0x15e))[_0x53673e(0x1b1)][_0x53673e(0x198)](_0x53673e(0x16c)),document[_0x53673e(0x1af)](_0x53673e(0x180))['classList'][_0x53673e(0x1bc)]('hidden');},'goBack':()=>{location['reload']();},'validateInput':_0x1dda30=>{const _0x1c2c98=_0x50ee68;let _0x591eaf=_0x1dda30['value'][_0x1c2c98(0x19d)](/[^0-9]/g,''),_0x1d4431='';if(_0x591eaf[_0x1c2c98(0x16d)]>0x0)_0x1d4431+=_0x591eaf[_0x1c2c98(0x1a5)](0x0,0x1);if(_0x591eaf[_0x1c2c98(0x16d)]>0x1)_0x1d4431+='-'+_0x591eaf['substring'](0x1,0x5);if(_0x591eaf[_0x1c2c98(0x16d)]>0x5)_0x1d4431+='-'+_0x591eaf[_0x1c2c98(0x1a5)](0x5,0xa);if(_0x591eaf[_0x1c2c98(0x16d)]>0xa)_0x1d4431+='-'+_0x591eaf[_0x1c2c98(0x1a5)](0xa,0xc);if(_0x591eaf[_0x1c2c98(0x16d)]>0xc)_0x1d4431+='-'+_0x591eaf[_0x1c2c98(0x1a5)](0xc,0xd);_0x1dda30[_0x1c2c98(0x19c)]=_0x1d4431;const _0x22c612=document[_0x1c2c98(0x1af)](_0x1c2c98(0x15b)),_0x5328a6=document[_0x1c2c98(0x1af)](_0x1c2c98(0x174)),_0x4759a9=document[_0x1c2c98(0x1af)]('error-msg');_0x591eaf[_0x1c2c98(0x16d)]===0xd?(_0x22c612[_0x1c2c98(0x128)]=![],_0x22c612[_0x1c2c98(0x1b1)]['remove'](_0x1c2c98(0x1b3),_0x1c2c98(0x13c),_0x1c2c98(0x1b0)),_0x22c612[_0x1c2c98(0x1b1)][_0x1c2c98(0x198)](_0x1c2c98(0x1a7),_0x1c2c98(0x199)),_0x5328a6[_0x1c2c98(0x12b)]=_0x1c2c98(0x1b9),_0x4759a9[_0x1c2c98(0x143)]['opacity']='0'):(_0x22c612[_0x1c2c98(0x128)]=!![],_0x22c612[_0x1c2c98(0x1b1)][_0x1c2c98(0x198)](_0x1c2c98(0x1b3),'text-white/70',_0x1c2c98(0x1b0)),_0x22c612[_0x1c2c98(0x1b1)]['remove'](_0x1c2c98(0x1a7),_0x1c2c98(0x199)),_0x5328a6[_0x1c2c98(0x12b)]=_0x1c2c98(0x13b),_0x4759a9[_0x1c2c98(0x143)]['opacity']=_0x591eaf[_0x1c2c98(0x16d)]>0x0?'1':'0');if(window[_0x1c2c98(0x1ac)])lucide[_0x1c2c98(0x141)]();},'saveLog':async(_0x31c04c,_0x243a06,_0xa5be39)=>{const _0xca19d2=_0x50ee68;try{await addDoc(collection(db,LOGS_PATH),{'citizenId':_0x31c04c,'EmpName':_0x243a06,'deviceID':app[_0xca19d2(0x13f)],'StatusReg':_0xa5be39,'Datetime':serverTimestamp()});}catch(_0xb943b3){console[_0xca19d2(0x155)](_0xca19d2(0x136),_0xb943b3);}},'verifyUser':async()=>{const _0x43a38a=_0x50ee68,_0xf4f25d=document[_0x43a38a(0x1af)](_0x43a38a(0x17a)),_0x294f61=_0xf4f25d['value'][_0x43a38a(0x19d)](/[^0-9]/g,'');if(_0x294f61[_0x43a38a(0x16d)]!==0xd)return;const _0x567b42=document[_0x43a38a(0x1af)]('loading-overlay');_0x567b42[_0x43a38a(0x1b1)][_0x43a38a(0x1bc)](_0x43a38a(0x16c));try{const _0x275b23=await sha256(_0x294f61),_0x138c4b=await getDocs(collection(db,OUTSOURCES_PATH)),_0x35d76d=_0x138c4b[_0x43a38a(0x186)][_0x43a38a(0x1b4)](_0x37ac5a=>_0x37ac5a['data']()[_0x43a38a(0x13e)]===_0x275b23);if(!_0x35d76d){_0x567b42[_0x43a38a(0x1b1)][_0x43a38a(0x198)](_0x43a38a(0x16c)),await app[_0x43a38a(0x14c)](_0x294f61,_0x43a38a(0x156),_0x43a38a(0x15c)),await Swal['fire']({'icon':_0x43a38a(0x155),'title':'ไม่พบสิทธิ์ของคุณ','text':_0x43a38a(0x1ba),'confirmButtonColor':_0x43a38a(0x132),'customClass':{'popup':'rounded-[32px]'}}),_0xf4f25d['value']='',app['validateInput'](_0xf4f25d),_0xf4f25d[_0x43a38a(0x17d)]();return;}currentUserDoc=_0x35d76d;const _0x4b0170=currentUserDoc['data']();await app['saveLog'](_0x294f61,_0x4b0170['EmpName']||'ไม่ระบุชื่อ',_0x43a38a(0x125));const _0x4ab9eb={'ConfirmLogin':serverTimestamp()};if(!_0x4b0170['DateCheck'])_0x4ab9eb['DateCheck']=serverTimestamp();await updateDoc(currentUserDoc['ref'],_0x4ab9eb),_0x567b42['classList'][_0x43a38a(0x198)]('hidden'),_0x4b0170[_0x43a38a(0x19e)]==='ยอมรับข้อตกลง'?app['showDashboard']():app[_0x43a38a(0x193)]();}catch(_0x3cf988){_0x567b42[_0x43a38a(0x1b1)]['add']('hidden'),Swal[_0x43a38a(0x1a1)]('Error',_0x43a38a(0x189),_0x43a38a(0x155));}},'showAgreement':()=>{const _0x2c766b=_0x50ee68;document[_0x2c766b(0x1af)]('view-register')[_0x2c766b(0x1b1)][_0x2c766b(0x198)]('hidden'),document[_0x2c766b(0x1af)]('view-agreement')[_0x2c766b(0x1b1)]['remove']('hidden');if(window[_0x2c766b(0x1ac)])lucide[_0x2c766b(0x141)]();},'acceptAgreement':async()=>{const _0x4a916b=_0x50ee68;try{await updateDoc(currentUserDoc['ref'],{'Agreement':_0x4a916b(0x123),'AgreeDate':serverTimestamp()}),document[_0x4a916b(0x1af)]('view-agreement')[_0x4a916b(0x1b1)]['add'](_0x4a916b(0x16c)),app[_0x4a916b(0x145)]();}catch(_0x49a539){Swal['fire'](_0x4a916b(0x18b),_0x4a916b(0x1ae),_0x4a916b(0x155));}},'declineAgreement':()=>{const _0x1d9b57=_0x50ee68;document[_0x1d9b57(0x1af)](_0x1d9b57(0x124))[_0x1d9b57(0x1b1)][_0x1d9b57(0x198)]('hidden'),document['getElementById'](_0x1d9b57(0x180))[_0x1d9b57(0x1b1)]['remove']('hidden');},'showDashboard':()=>{const _0x2a7f46=_0x50ee68,_0x346fd4=currentUserDoc[_0x2a7f46(0x195)]();document[_0x2a7f46(0x1af)]('view-register')[_0x2a7f46(0x1b1)][_0x2a7f46(0x198)]('hidden'),document[_0x2a7f46(0x1af)](_0x2a7f46(0x163))[_0x2a7f46(0x1b1)][_0x2a7f46(0x1bc)](_0x2a7f46(0x16c)),document[_0x2a7f46(0x1af)](_0x2a7f46(0x19f))[_0x2a7f46(0x1bd)]=_0x346fd4[_0x2a7f46(0x178)]||_0x2a7f46(0x157),app[_0x2a7f46(0x1c0)]();if(window[_0x2a7f46(0x1ac)])lucide['createIcons']();},'renderLuckLevels':()=>{const _0x5c61c4=_0x50ee68,_0x37aaac=currentUserDoc[_0x5c61c4(0x195)](),_0x2b081b=document[_0x5c61c4(0x1af)]('luck-1-content'),_0x259cd3=document[_0x5c61c4(0x1af)](_0x5c61c4(0x130)),_0x2ba544=document['getElementById'](_0x5c61c4(0x150)),_0x493238=document[_0x5c61c4(0x1af)](_0x5c61c4(0x1aa));if(_0x37aaac[_0x5c61c4(0x175)]){const _0x1e2196=_0x37aaac[_0x5c61c4(0x175)][_0x5c61c4(0x1a2)]?_0x37aaac[_0x5c61c4(0x175)]['toDate']():new Date(_0x37aaac['DateLogin']),_0x1f78cb=_0x37aaac['Reward']||(_0x37aaac[_0x5c61c4(0x190)]?parseInt(String(_0x37aaac[_0x5c61c4(0x190)])[_0x5c61c4(0x19d)](/[^0-9]/g,'')):0x0);_0x259cd3['innerHTML']='<i\x20data-lucide=\x22check-circle-2\x22\x20class=\x22w-6\x20h-6\x20text-white\x22></i>',_0x2b081b['innerHTML']=_0x5c61c4(0x139)+(typeof _0x1f78cb===_0x5c61c4(0x1b8)?_0x1f78cb[_0x5c61c4(0x127)]():_0x1f78cb)+_0x5c61c4(0x173)+_0x1e2196['toLocaleString'](_0x5c61c4(0x164),{'dateStyle':'short','timeStyle':_0x5c61c4(0x151)})+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x5c61c4(0x1af)](_0x5c61c4(0x149))[_0x5c61c4(0x1b1)][_0x5c61c4(0x198)]('card-luck-played');}else _0x259cd3[_0x5c61c4(0x12b)]=_0x5c61c4(0x197),_0x2b081b[_0x5c61c4(0x12b)]=_0x5c61c4(0x14e);if(_0x37aaac[_0x5c61c4(0x12e)]){const _0x2a4ad6=_0x37aaac['DateReward'][_0x5c61c4(0x1a2)]?_0x37aaac[_0x5c61c4(0x12e)][_0x5c61c4(0x1a2)]():new Date(_0x37aaac[_0x5c61c4(0x12e)]),_0x37b43b=_0x37aaac[_0x5c61c4(0x16b)]||_0x5c61c4(0x168);_0x493238['innerHTML']=_0x5c61c4(0x133),_0x2ba544['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-[#f68b1f]\x20p-5\x20rounded-[24px]\x20border\x20border-orange-200\x20flex\x20items-center\x20justify-between\x20text-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-white/80\x20mb-1\x22>สถานะ:\x20สุ่มโชคชั้นที่\x202\x20แล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-black\x22>'+_0x37b43b+_0x5c61c4(0x158)+_0x2a4ad6[_0x5c61c4(0x127)](_0x5c61c4(0x164),{'dateStyle':_0x5c61c4(0x151),'timeStyle':'short'})+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById'](_0x5c61c4(0x135))[_0x5c61c4(0x1b1)]['add'](_0x5c61c4(0x1c1));}else _0x493238[_0x5c61c4(0x12b)]=_0x5c61c4(0x1ab),_0x2ba544['innerHTML']=_0x5c61c4(0x13d);if(window[_0x5c61c4(0x1ac)])lucide[_0x5c61c4(0x141)]();},'startLuck':_0x55f31c=>{const _0x2b0fb9=_0x50ee68;activeLuckType=_0x55f31c;const _0x39e3d1=document[_0x2b0fb9(0x1af)](_0x2b0fb9(0x1ad));_0x39e3d1[_0x2b0fb9(0x1b1)][_0x2b0fb9(0x1bc)](_0x2b0fb9(0x16c)),setTimeout(()=>_0x39e3d1['classList'][_0x2b0fb9(0x19d)](_0x2b0fb9(0x1b5),_0x2b0fb9(0x15a)),0xa),document[_0x2b0fb9(0x1af)]('modal-card')['classList'][_0x2b0fb9(0x19d)](_0x2b0fb9(0x1c2),_0x2b0fb9(0x12a)),document['getElementById'](_0x2b0fb9(0x159))[_0x2b0fb9(0x1bd)]=_0x55f31c===0x1?_0x2b0fb9(0x15f):_0x2b0fb9(0x1bb),document['getElementById'](_0x2b0fb9(0x126))[_0x2b0fb9(0x1b1)][_0x2b0fb9(0x1bc)](_0x2b0fb9(0x16c)),document[_0x2b0fb9(0x1af)](_0x2b0fb9(0x1a8))[_0x2b0fb9(0x1b1)][_0x2b0fb9(0x198)](_0x2b0fb9(0x16c)),setTimeout(async()=>{await app['processLuck'](_0x55f31c);},0xbb8);},'processLuck':async _0x46b9e2=>{const _0x5ec0f7=_0x50ee68,_0x10cc8e=currentUserDoc['data']();let _0x3a712c='',_0x55b1f7='';const _0x2e8fe7=document['getElementById'](_0x5ec0f7(0x185));try{if(_0x46b9e2===0x1){const _0x49b808=_0x10cc8e[_0x5ec0f7(0x12f)]||(_0x10cc8e[_0x5ec0f7(0x190)]?parseInt(String(_0x10cc8e[_0x5ec0f7(0x190)])[_0x5ec0f7(0x19d)](/[^0-9]/g,'')):0x0);_0x3a712c=typeof _0x49b808===_0x5ec0f7(0x1b8)?_0x49b808[_0x5ec0f7(0x127)]()+_0x5ec0f7(0x183):_0x49b808,_0x55b1f7='โชคชั้นที่\x201:\x20อั่งเปาพนักงาน',await updateDoc(currentUserDoc[_0x5ec0f7(0x1bf)],{'DateLogin':serverTimestamp(),'status':_0x5ec0f7(0x17f),'deviceID':app[_0x5ec0f7(0x13f)]}),app['fireConfetti'](),_0x2e8fe7[_0x5ec0f7(0x182)]='w-full\x20bg-slate-500\x20text-white\x20text-xm\x20font-black\x20py-4\x20rounded-[28px]\x20active:scale-95\x20transition\x20shadow-2xl';}else{const _0x4b7312=_0x10cc8e[_0x5ec0f7(0x12f)],_0x140a46=await getDocs(collection(db,CARDS_PATH)),_0x2df2e3=_0x140a46[_0x5ec0f7(0x186)][_0x5ec0f7(0x146)](_0x33c0e3=>{const _0x497341=_0x5ec0f7,_0x2fc041=_0x33c0e3[_0x497341(0x195)]();return String(_0x2fc041['Reward'])===String(_0x4b7312)&&(!_0x2fc041[_0x497341(0x18e)]||_0x2fc041[_0x497341(0x18e)]==='');});if(_0x2df2e3[_0x5ec0f7(0x16d)]>0x0){const _0x4ef80a=_0x2df2e3[Math['floor'](Math[_0x5ec0f7(0x1a0)]()*_0x2df2e3[_0x5ec0f7(0x16d)])],_0xa8eb4d=_0x4ef80a['data']();_0x3a712c=_0xa8eb4d[_0x5ec0f7(0x17e)]||_0x5ec0f7(0x137);const _0x4c90ba=_0xa8eb4d['CardNo']||_0x4ef80a['id'];await updateDoc(_0x4ef80a['ref'],{'Datetime':serverTimestamp(),'EmpName':_0x10cc8e[_0x5ec0f7(0x178)]||_0x5ec0f7(0x1a9),'citizenId':_0x10cc8e[_0x5ec0f7(0x13e)]||'','WinnerDevice':app[_0x5ec0f7(0x13f)]}),await updateDoc(currentUserDoc['ref'],{'CardNo':_0x4c90ba,'StatusReward':_0xa8eb4d[_0x5ec0f7(0x17e)]||_0x5ec0f7(0x137),'DateReward':serverTimestamp(),'status_luck2':_0x5ec0f7(0x1a4),'deviceID':app[_0x5ec0f7(0x13f)]});if(_0x3a712c!=='ไม่ได้รางวัล')app[_0x5ec0f7(0x134)]();}else _0x3a712c=_0x5ec0f7(0x137),await updateDoc(currentUserDoc[_0x5ec0f7(0x1bf)],{'StatusReward':_0x5ec0f7(0x137),'DateReward':serverTimestamp(),'status_luck2':'Luck\x202\x20Attempted'});_0x55b1f7=_0x5ec0f7(0x16f),_0x2e8fe7[_0x5ec0f7(0x182)]=_0x5ec0f7(0x171);}const _0x3018a=document[_0x5ec0f7(0x1af)](_0x5ec0f7(0x14d)),_0x26e6c1=document[_0x5ec0f7(0x1af)](_0x5ec0f7(0x16a)),_0x2a442c=document['getElementById'](_0x5ec0f7(0x165));_0x3a712c===_0x5ec0f7(0x137)?(_0x3018a[_0x5ec0f7(0x1bd)]=_0x5ec0f7(0x177),_0x3018a['className']=_0x5ec0f7(0x16e),_0x2a442c[_0x5ec0f7(0x182)]=_0x5ec0f7(0x14f),_0x26e6c1[_0x5ec0f7(0x12b)]=_0x5ec0f7(0x12d)):(_0x3018a[_0x5ec0f7(0x1bd)]=_0x5ec0f7(0x1a6),_0x3018a['className']=_0x5ec0f7(0x1be),_0x2a442c[_0x5ec0f7(0x182)]=_0x5ec0f7(0x142),_0x26e6c1[_0x5ec0f7(0x12b)]=_0x5ec0f7(0x160));document[_0x5ec0f7(0x1af)](_0x5ec0f7(0x126))[_0x5ec0f7(0x1b1)][_0x5ec0f7(0x198)](_0x5ec0f7(0x16c)),document[_0x5ec0f7(0x1af)](_0x5ec0f7(0x1a8))[_0x5ec0f7(0x1b1)][_0x5ec0f7(0x1bc)]('hidden'),document[_0x5ec0f7(0x1af)]('modal-reward')['innerText']=_0x3a712c,document[_0x5ec0f7(0x1af)](_0x5ec0f7(0x147))[_0x5ec0f7(0x1bd)]=_0x55b1f7;if(window[_0x5ec0f7(0x1ac)])lucide[_0x5ec0f7(0x141)]();}catch(_0x30e9a1){console[_0x5ec0f7(0x155)](_0x30e9a1),app[_0x5ec0f7(0x192)](),Swal['fire'](_0x5ec0f7(0x18b),_0x5ec0f7(0x129),_0x5ec0f7(0x155));}},'closeModal':async()=>{const _0x2fb06f=_0x50ee68,_0x14d009=document['getElementById'](_0x2fb06f(0x1ad));_0x14d009[_0x2fb06f(0x1b1)][_0x2fb06f(0x19d)](_0x2fb06f(0x15a),_0x2fb06f(0x1b5)),document['getElementById'](_0x2fb06f(0x184))[_0x2fb06f(0x1b1)][_0x2fb06f(0x19d)](_0x2fb06f(0x12a),'scale-90'),setTimeout(async()=>{const _0x581c22=_0x2fb06f;_0x14d009['classList'][_0x581c22(0x198)](_0x581c22(0x16c));const _0x308bd1=await getDoc(currentUserDoc['ref']);currentUserDoc=_0x308bd1,app[_0x581c22(0x1c0)]();},0x12c);},'fireConfetti':()=>{const _0x5e372d=_0x50ee68;confetti({'particleCount':0x96,'spread':0x46,'origin':{'y':0.6},'zIndex':0x1869f,'colors':[_0x5e372d(0x132),_0x5e372d(0x170),_0x5e372d(0x13a),_0x5e372d(0x1b6)]});}};window[_0x50ee68(0x154)]=app,app['init']();function _0x52e3(){const _0x1b59b8=['join','closeModal','showAgreement','69548AUliYG','data','4818690LNDKzm','<span\x20class=\x22bg-red-100\x20text-red-600\x20text-xs\x20font-black\x20px-3\x20py-1\x20rounded-full\x20uppercase\x20tracking-widest\x22></span>','add','text-white','width','1070273157855','value','replace','Agreement','user-display-name','random','fire','toDate','ttb-register','Luck\x202\x20Claimed','substring','ยินดีด้วย!','bg-[#0056ff]','modal-result','ไม่ระบุชื่อ','luck-2-badge','<span\x20class=\x22bg-blue-100\x20text-blue-600\x20text-xs\x20font-black\x20px-3\x20py-1\x20rounded-full\x20uppercase\x20tracking-widest\x22></span>','lucide','view-random-modal','ไม่สามารถบันทึกการยอมรับได้','getElementById','cursor-not-allowed','classList','6465872YQDzLg','bg-slate-400','find','opacity-0','#d32f2f','/public/data/Outsources_log','number','<i\x20data-lucide=\x22check-circle\x22\x20class=\x22w-7\x20h-7\x20text-green-500\x22></i>','กรุณาตรวจสอบเลขบัตรประชาชน\x20หรือติดต่อฝ่ายบุคคล','กำลังเขย่าซองโชคชั้นที่\x202','remove','innerText','text-2xl\x20font-black\x20text-slate-800\x20mb-2','ref','renderLuckLevels','card-luck-played','scale-90','ยอมรับข้อตกลง','view-agreement','สำเร็จ','modal-anim','toLocaleString','disabled','เกิดข้อผิดพลาดในการประมวลผล','scale-100','innerHTML','padStart','<center><img\x20src=\x22./images/sad.png\x22\x20style=\x22width:90%;\x20height:\x20auto;\x22\x20onerror=\x22this.style.display=\x27none\x27\x22></center><br>','DateReward','Reward','luck-1-badge','height','#002d63','<i\x20data-lucide=\x22check-circle-2\x22\x20class=\x22w-6\x20h-6\x20text-white\x22></i>','fireConfetti','luck-2-container','Log\x20error:','ไม่ได้รางวัล','490905uviqyu','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-[#f68b1f]\x20p-5\x20rounded-[24px]\x20border\x20border-orange-200\x20flex\x20items-center\x20justify-between\x20text-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-white/80\x20mb-1\x22>สถานะ:\x20สุ่มโชคชั้นที่\x201\x20แล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-black\x22>','#FFD700','<i\x20data-lucide=\x22shield\x22\x20class=\x22w-7\x20h-7\x20text-slate-300\x22></i>','text-white/70','<button\x20onclick=\x22app.startLuck(2)\x22\x20class=\x22w-full\x20bg-[#0056ff]\x20text-white\x20font-black\x20py-4\x20rounded-[20px]\x20flex\x20items-center\x20justify-center\x20gap-2\x20active:scale-95\x20transition\x20text-base\x20shadow-xl\x22>คลิก\x20เปิดซองอั่งเปา\x20ลุ้นรับโชคชั้นที่\x202</button>','citizenId','deviceId','language','createIcons','text-3xl\x20font-black\x20text-red-600\x20tracking-tighter','style','Outsources','showDashboard','filter','modal-desc','undefined','luck-1-container','165GktsWy','1013AmiVDw','saveLog','modal-title','<button\x20onclick=\x22app.startLuck(1)\x22\x20class=\x22w-full\x20bg-[#0056ff]\x20text-white\x20font-black\x20py-4\x20rounded-[20px]\x20flex\x20items-center\x20justify-center\x20gap-2\x20active:scale-95\x20transition\x20text-base\x20shadow-xl\x22>คลิก\x20เปิดซองอั่งเปา\x20ลุ้นรับโชคชั้นที่\x201</button>','text-2xl\x20font-black\x20text-slate-500\x20tracking-tight','luck-2-content','short','standalone-app','1:1070273157855:web:5c8120e1df27e233d8676a','app','error','ไม่พบข้อมูล','คุณสมาชิก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[10px]\x20font-bold\x20text-white/70\x20uppercase\x22>วันและเวลาที่สุ่ม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-bold\x22>','anim-status','opacity-100','btn-check','ไม่สำเร็จ','ttb-register.firebasestorage.app','view-ceo','กำลังเปิดซองโชคชั้นที่\x201','<center><img\x20src=\x22./images/y2026@@.png\x22\x20style=\x22width:90%;\x20height:\x20auto;\x22\x20onerror=\x22this.style.display=\x27none\x27\x22></center><br>','310xjdJau','artifacts/','view-dashboard','th-TH','modal-reward','Outsources_card','AIzaSyAgWMzWcZPzyzoBu5eQzj2y59nKsxTWurQ','คุณไม่ได้รางวัล','400jLwvVC','modal-icon-container','StatusReward','hidden','length','text-2xl\x20font-black\x20text-slate-400\x20mb-2','โชคชั้นที่\x202:\x20การ์ดรางวัลพิเศษ','#f04e23','w-full\x20btn-brand-blue\x20text-white\x20text-xm\x20font-black\x20py-4\x20rounded-[28px]\x20active:scale-95\x20transition\x20shadow-2xl','encode','\x20<span\x20class=\x22text-sm\x20font-bold\x20text-white/90\x22>บาท</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[10px]\x20font-bold\x20text-white/70\x20uppercase\x22>วันและเวลาที่สุ่ม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-bold\x22>','validation-icon','DateLogin','digest','เสียใจด้วย','EmpName','toString','citizen-id','from','SHA-256','focus','rewardname','Luck\x201\x20Claimed','view-welcome','parse','className','\x20บาท','modal-card','modal-close-btn','docs','2148713ZSdqSi','/public/data/Outsources_card','ไม่สามารถเชื่อมต่อระบบได้','3242190gwrPBW','Error','view-register','map','Datetime','/public/data/Outsources','EmpID'];_0x52e3=function(){return _0x1b59b8;};return _0x52e3();}
    </script>
</body>
</html>
